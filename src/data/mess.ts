import { MessExpense, MessMember } from "../types";
import { residents } from "./residents";

export const messExpenses: MessExpense[] = [
  // October 2023
  {
    id: "MESS001",
    date: "2023-10-01",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg, Sugar 25kg",
    amount: 18500,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS002",
    date: "2023-10-01",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8500,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS003",
    date: "2023-10-03",
    category: "meat",
    description: "Chicken 20kg, Beef 15kg",
    amount: 15200,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS004",
    date: "2023-10-05",
    category: "dairy",
    description: "Milk, Eggs, Butter",
    amount: 6800,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS005",
    date: "2023-10-08",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 7800,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS006",
    date: "2023-10-10",
    category: "meat",
    description: "Chicken 25kg",
    amount: 11500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS007",
    date: "2023-10-12",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 5200,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS008",
    date: "2023-10-15",
    category: "gas",
    description: "LPG Cylinder refill x3",
    amount: 12000,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS009",
    date: "2023-10-15",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8200,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS010",
    date: "2023-10-18",
    category: "meat",
    description: "Mutton 10kg, Chicken 15kg",
    amount: 18500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS011",
    date: "2023-10-20",
    category: "grocery",
    description: "Oil, Spices, Lentils",
    amount: 12500,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS012",
    date: "2023-10-22",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 7500,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS013",
    date: "2023-10-25",
    category: "meat",
    description: "Chicken 20kg, Fish 10kg",
    amount: 16800,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS014",
    date: "2023-10-28",
    category: "dairy",
    description: "Milk, Eggs, Cheese",
    amount: 7200,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS015",
    date: "2023-10-30",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8000,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },

  // November 2023
  {
    id: "MESS016",
    date: "2023-11-01",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg",
    amount: 16500,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS017",
    date: "2023-11-02",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8800,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS018",
    date: "2023-11-04",
    category: "meat",
    description: "Chicken 25kg, Beef 20kg",
    amount: 19500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS019",
    date: "2023-11-06",
    category: "dairy",
    description: "Milk, Eggs, Butter",
    amount: 6500,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS020",
    date: "2023-11-09",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 7900,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS021",
    date: "2023-11-11",
    category: "meat",
    description: "Chicken 20kg",
    amount: 9800,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS022",
    date: "2023-11-14",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 5500,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS023",
    date: "2023-11-15",
    category: "gas",
    description: "LPG Cylinder refill x3",
    amount: 12500,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS024",
    date: "2023-11-16",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8100,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS025",
    date: "2023-11-19",
    category: "meat",
    description: "Mutton 12kg, Chicken 18kg",
    amount: 21000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS026",
    date: "2023-11-21",
    category: "grocery",
    description: "Oil, Spices, Lentils, Tea",
    amount: 14200,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS027",
    date: "2023-11-23",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 7600,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS028",
    date: "2023-11-26",
    category: "meat",
    description: "Chicken 22kg",
    amount: 10800,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS029",
    date: "2023-11-28",
    category: "dairy",
    description: "Milk, Eggs",
    amount: 6200,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS030",
    date: "2023-11-30",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8300,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },

  // December 2023
  {
    id: "MESS031",
    date: "2023-12-01",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg, Sugar 30kg",
    amount: 19500,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS032",
    date: "2023-12-02",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9200,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS033",
    date: "2023-12-04",
    category: "meat",
    description: "Chicken 30kg, Beef 25kg",
    amount: 24500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS034",
    date: "2023-12-06",
    category: "dairy",
    description: "Milk, Eggs, Butter, Cream",
    amount: 8500,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS035",
    date: "2023-12-09",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8600,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS036",
    date: "2023-12-11",
    category: "meat",
    description: "Chicken 25kg",
    amount: 12200,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS037",
    date: "2023-12-14",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 5800,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS038",
    date: "2023-12-15",
    category: "gas",
    description: "LPG Cylinder refill x4",
    amount: 16000,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS039",
    date: "2023-12-16",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9000,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS040",
    date: "2023-12-19",
    category: "meat",
    description: "Mutton 15kg, Chicken 20kg",
    amount: 26500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS041",
    date: "2023-12-21",
    category: "grocery",
    description: "Oil, Spices, Dry Fruits",
    amount: 18500,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS042",
    date: "2023-12-23",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8400,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS043",
    date: "2023-12-26",
    category: "meat",
    description: "Chicken 28kg, Fish 12kg",
    amount: 19800,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS044",
    date: "2023-12-28",
    category: "dairy",
    description: "Milk, Eggs, Cheese",
    amount: 7800,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS045",
    date: "2023-12-30",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9500,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },

  // January 2024
  {
    id: "MESS046",
    date: "2024-01-02",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg",
    amount: 17500,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS047",
    date: "2024-01-03",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8900,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS048",
    date: "2024-01-05",
    category: "meat",
    description: "Chicken 25kg, Beef 18kg",
    amount: 20500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS049",
    date: "2024-01-07",
    category: "dairy",
    description: "Milk, Eggs, Butter",
    amount: 7200,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS050",
    date: "2024-01-10",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8200,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS051",
    date: "2024-01-12",
    category: "meat",
    description: "Chicken 22kg",
    amount: 11000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS052",
    date: "2024-01-15",
    category: "gas",
    description: "LPG Cylinder refill x3",
    amount: 13500,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS053",
    date: "2024-01-15",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 5600,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS054",
    date: "2024-01-17",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8500,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS055",
    date: "2024-01-20",
    category: "meat",
    description: "Mutton 10kg, Chicken 20kg",
    amount: 19500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS056",
    date: "2024-01-22",
    category: "grocery",
    description: "Oil, Spices, Lentils",
    amount: 13500,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS057",
    date: "2024-01-24",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 7800,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS058",
    date: "2024-01-27",
    category: "meat",
    description: "Chicken 24kg",
    amount: 12000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS059",
    date: "2024-01-29",
    category: "dairy",
    description: "Milk, Eggs",
    amount: 6400,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS060",
    date: "2024-01-31",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8800,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },

  // February 2024
  {
    id: "MESS061",
    date: "2024-02-01",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg, Sugar 25kg",
    amount: 18200,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS062",
    date: "2024-02-02",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9100,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS063",
    date: "2024-02-04",
    category: "meat",
    description: "Chicken 28kg, Beef 20kg",
    amount: 22500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS064",
    date: "2024-02-06",
    category: "dairy",
    description: "Milk, Eggs, Butter",
    amount: 7500,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS065",
    date: "2024-02-09",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8400,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS066",
    date: "2024-02-11",
    category: "meat",
    description: "Chicken 25kg",
    amount: 12500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS067",
    date: "2024-02-14",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 5900,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS068",
    date: "2024-02-15",
    category: "gas",
    description: "LPG Cylinder refill x3",
    amount: 14000,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS069",
    date: "2024-02-16",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8700,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS070",
    date: "2024-02-19",
    category: "meat",
    description: "Mutton 12kg, Chicken 22kg",
    amount: 23500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS071",
    date: "2024-02-21",
    category: "grocery",
    description: "Oil, Spices, Lentils, Tea",
    amount: 15500,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS072",
    date: "2024-02-23",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8000,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS073",
    date: "2024-02-26",
    category: "meat",
    description: "Chicken 26kg",
    amount: 13000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS074",
    date: "2024-02-28",
    category: "dairy",
    description: "Milk, Eggs, Cheese",
    amount: 7200,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },

  // March 2024
  {
    id: "MESS075",
    date: "2024-03-01",
    category: "grocery",
    description: "Rice 50kg, Flour 50kg",
    amount: 17800,
    vendor: "Metro Cash & Carry",
    paidBy: "E004",
  },
  {
    id: "MESS076",
    date: "2024-03-02",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9300,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS077",
    date: "2024-03-04",
    category: "meat",
    description: "Chicken 30kg, Beef 22kg",
    amount: 24800,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS078",
    date: "2024-03-06",
    category: "dairy",
    description: "Milk, Eggs, Butter",
    amount: 7800,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS079",
    date: "2024-03-09",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8600,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS080",
    date: "2024-03-11",
    category: "meat",
    description: "Chicken 28kg",
    amount: 14000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS081",
    date: "2024-03-14",
    category: "dairy",
    description: "Milk, Yogurt",
    amount: 6100,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS082",
    date: "2024-03-15",
    category: "gas",
    description: "LPG Cylinder refill x3",
    amount: 14500,
    vendor: "SNGPL",
    paidBy: "E004",
  },
  {
    id: "MESS083",
    date: "2024-03-16",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9000,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS084",
    date: "2024-03-19",
    category: "meat",
    description: "Mutton 14kg, Chicken 24kg",
    amount: 26000,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS085",
    date: "2024-03-21",
    category: "grocery",
    description: "Oil, Spices, Lentils",
    amount: 14800,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
  {
    id: "MESS086",
    date: "2024-03-23",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 8200,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS087",
    date: "2024-03-26",
    category: "meat",
    description: "Chicken 26kg, Fish 10kg",
    amount: 18500,
    vendor: "Meat One",
    paidBy: "E004",
  },
  {
    id: "MESS088",
    date: "2024-03-28",
    category: "dairy",
    description: "Milk, Eggs",
    amount: 6800,
    vendor: "Nurpur Dairy",
    paidBy: "E005",
  },
  {
    id: "MESS089",
    date: "2024-03-30",
    category: "vegetables",
    description: "Weekly vegetables",
    amount: 9500,
    vendor: "Sabzi Mandi",
    paidBy: "E004",
  },
  {
    id: "MESS090",
    date: "2024-03-31",
    category: "other",
    description: "Kitchen cleaning supplies",
    amount: 3500,
    vendor: "Imtiaz Super Market",
    paidBy: "E005",
  },
];

// Generate mess members (about 60% of residents)
export const messMembers: MessMember[] = residents
  .filter(() => Math.random() > 0.4)
  .filter((r) => r.status === "active")
  .map((r) => ({
    id: `MM${r.id.substring(1)}`,
    residentId: r.id,
    joinDate: r.joinDate,
    status: "active" as const,
    mealType:
      Math.random() > 0.7
        ? Math.random() > 0.5
          ? "lunch"
          : "dinner"
        : ("full" as "full" | "lunch" | "dinner"),
  }));

export const getMessExpensesByMonth = (month: string): MessExpense[] => {
  return messExpenses.filter((e) => e.date.startsWith(month));
};

export const getMessExpensesByCategory = (category: string): MessExpense[] => {
  return messExpenses.filter((e) => e.category === category);
};

export const getTotalMessExpensesByMonth = (month: string): number => {
  return getMessExpensesByMonth(month).reduce((sum, e) => sum + e.amount, 0);
};

export const getMessCategoryTotals = (month?: string) => {
  const filtered = month ? getMessExpensesByMonth(month) : messExpenses;
  const totals: { [key: string]: number } = {};
  filtered.forEach((e) => {
    totals[e.category] = (totals[e.category] || 0) + e.amount;
  });
  return totals;
};

export const getActiveMessMembers = (): MessMember[] => {
  return messMembers.filter((m) => m.status === "active");
};

export const getMonthlyMessExpenseTrend = () => {
  const months = [
    "2023-10",
    "2023-11",
    "2023-12",
    "2024-01",
    "2024-02",
    "2024-03",
  ];
  return months.map((month) => ({
    month,
    total: getTotalMessExpensesByMonth(month),
  }));
};
